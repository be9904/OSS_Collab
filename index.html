<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!-- Bootstrap CSS -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
            crossorigin="anonymous"
        />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
        />

        <title>Stock Checker</title>
        <style>
            .container {
                width: 720px;
            }
            
        </style>
    </head>
+
    <body>
        <!-- HTML Code -->
        <nav class="navbar navbar-light bg-primary">
            <span class="navbar-brand mb-0 ms-3 h1 text-white"
                ><i class="bi bi-graph-up"></i> Stock Checker</span
            >
        </nav>

        <div class="d-flex align-items-center mb-2 mt-4 mx-5 px-5">
            <input
                type="text"
                class="form-control"
                id="name"
                placeholder="이름을 입력하세요"
            /> <!-- 여기도 id 있음-->
            <button
                type="button"
                id="search"
                class="btn btn-primary ms-1 me-5 text-nowrap"
            >
                <i class="bi bi-search"></i> Search
            </button>
        </div>

        <div class="container mt-3" id="info">
            <!-- search 했을 때 정보가 나오는 빈칸 container로 하긴 했는데 수정 가능 -->
        </div>

        <div class="d-flex">
            <div class="flex-grow-1 bg-light rounded-2 p-2 me-1 w-50">
              <div id="new"> <!-- id는 새정보 추가는 new, 기존 정보 수정은 exist로 설정 -->
                <div class="flex-grow-1 bg-light rounded-2 ms-5 me-2 mt-4">
                    <input
                        type="text"
                        class="form-control"
                        id="new_name" 
                        placeholder="이름을 입력하세요"
                    />
                </div> <!-- 입력하는 항목 id 전부 다 수정 필요 -->

                <div class="flex-grow-1 bg-light rounded-2 ms-5 me-2 mt-4">
                    <input
                        type="text"
                        class="form-control"
                        id="new_stname"
                        placeholder="주식 종목명을 입력하세요"
                    />
                </div>

                <div class="flex-grow-1 bg-light rounded-2 ms-5 me-2 mt-4">
                    <input
                        type="text"
                        class="form-control"
                        id="stock_amount"
                        placeholder="주식 매수량을 입력하세요"
                    />
                </div>

                <div class="flex-grow-1 bg-light rounded-2 ms-5 me-2 mt-4">
                    <input
                        type="text"
                        class="form-control"
                        id="new_stprice"
                        placeholder="매수 당시 주가를 입력하세요"
                    />
                </div>
                
                <div class="flex-grow-1 bg-light rounded-2 ms-5 me-2 mt-4">
                    <button
                        type="button"
                        id="new_add"
                        class="btn btn-primary ms-1 me-5 text-nowrap"
                    >
                        <i class="bi bi-plus"></i> Add
                    </button>
                </div>
              </div>
            </div>

            <div class="flex-grow-1 bg-light rounded-2 p-2 w-50">
              <div id="exist">
                <div class="flex-grow-1 bg-light rounded-2 ms-2 me-5 mt-4">
                    <input
                        type="text"
                        class="form-control"
                        id="exist_name"
                        placeholder="이름을 입력하세요"
                    />
                </div>

                <div class="flex-grow-1 bg-light rounded-2 ms-2 me-5 mt-4">
                    <input
                        type="text"
                        class="form-control"
                        id="exist_stname"
                        placeholder="주식 종목명을 입력하세요"
                    />
                </div>

                <div class="flex-grow-1 bg-light rounded-2 ms-2 me-5 mt-4">
                    <input
                        type="text"
                        class="form-control"
                        id="stock_change"
                        placeholder="추가 매수량 또는 매도량을 입력하세요"
                    />
                </div>

                <div class="flex-grow-1 bg-light rounded-2 ms-2 me-5 mt-4">
                    <input
                        type="text"
                        class="form-control"
                        id="exist_stprice"
                        placeholder="당시 주가를 입력하세요"
                    />
                </div>

                <div class="flex-grow-1 bg-light rounded-2 ms-2 me-5 mt-4">
                    <button
                        type="button"
                        id="exist_add"
                        class="btn btn-primary ms-1 me-5 text-nowrap"
                    >
                        <i class="bi bi-plus"></i> Add
                    </button>
                </div>
              </div>   
            </div>
          </div>
          <div class="flex-grow-1 bg-light rounded-2 mt-4" style = "text-align:center;">
            오늘은 <label id ="hours">0</label>:<label id="minutes">00</label>:<label id="seconds">00</label> 동안이나 보고 계셨군요
        </div>
        </div>

        
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
            crossorigin="anonymous"
        ></script>
        <script>
            var hoursLabel = document.getElementById("hours");
            var minutesLabel = document.getElementById("minutes");
            var secondsLabel = document.getElementById("seconds");
            var totalSeconds = 0;
            setInterval(setTime, 1000);
            
            function setTime() {
                ++totalSeconds;
                secondsLabel.innerHTML = pad(totalSeconds % 60);
                if(pad(parseInt(totalSeconds / 60)) >= 60){
                    minutesLabel.innerHTML = pad(parseInt((totalSeconds / 60) % 60));
                    hoursLabel.innerHTML = pad(parseInt((totalSeconds / 60) / 60));
                } else{
                    minutesLabel.innerHTML = pad(parseInt(totalSeconds / 60));
                    hoursLabel.innerHTML = 0;
                }

                let seconds = parseInt(secondsLabel.innerHTML);
                let minutes = parseInt(minutesLabel.innerHTML);
                let hours = parseInt(hoursLabel.innerHTML);
            
                if(seconds === 0 && minutes === 0 && hours === 2){
                    alert("이용하신지 2시간이 경과되었습니다.");
                    window.close();
                }

            }

            function pad(val) {
                var valString = val + "";
                if (valString.length < 2) {
                    return "0" + valString;
                } else {
                    return valString;
                }
            }

            
            /* JS Code */
        </script>
    </body>
    <script src="backend.js">
    </script>
</html>
